<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>@markeasting/dependency-injection</title><meta name="description" content="Documentation for @markeasting/dependency-injection"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><link rel="stylesheet" href="assets/custom.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script><style>
@media (prefers-color-scheme: dark) {
  :root {
    --md-sys-color-primary: #4fd8eb;
    --md-sys-color-on-primary: #00363d;
    --md-sys-color-primary-container: #004f58;
    --md-sys-color-on-primary-container: #97f0ff;
    --md-sys-color-secondary: #b1cbd0;
    --md-sys-color-on-secondary: #1c3438;
    --md-sys-color-secondary-container: #334b4f;
    --md-sys-color-on-secondary-container: #cde7ec;
    --md-sys-color-tertiary: #bac6ea;
    --md-sys-color-on-tertiary: #24304d;
    --md-sys-color-tertiary-container: #3b4664;
    --md-sys-color-on-tertiary-container: #dae2ff;
    --md-sys-color-error: #ffb4ab;
    --md-sys-color-on-error: #690005;
    --md-sys-color-error-container: #93000a;
    --md-sys-color-on-error-container: #ffb4ab;
    --md-sys-color-background: #191c1d;
    --md-sys-color-on-background: #e1e3e3;
    --md-sys-color-surface: #191c1d;
    --md-sys-color-on-surface: #e1e3e3;
    --md-sys-color-surface-variant: #3f484a;
    --md-sys-color-on-surface-variant: #bfc8ca;
    --md-sys-color-outline: #899294;
    --md-sys-color-outline-variant: #3f484a;
    --md-sys-color-shadow: #000000;
    --md-sys-color-scrim: #000000;
    --md-sys-color-inverse-surface: #e1e3e3;
    --md-sys-color-inverse-on-surface: #2e3132;
    --md-sys-color-inverse-primary: #006874;
    --md-sys-color-surface-dim: #101415;
    --md-sys-color-surface-bright: #363a3a;
    --md-sys-color-surface-container-lowest: #0b0f0f;
    --md-sys-color-surface-container-low: #191c1d;
    --md-sys-color-surface-container: #1d2021;
    --md-sys-color-surface-container-high: #272b2b;
    --md-sys-color-surface-container-highest: #323536
  }
}
:root[data-theme="dark"] {
  --md-sys-color-primary: #4fd8eb;
  --md-sys-color-on-primary: #00363d;
  --md-sys-color-primary-container: #004f58;
  --md-sys-color-on-primary-container: #97f0ff;
  --md-sys-color-secondary: #b1cbd0;
  --md-sys-color-on-secondary: #1c3438;
  --md-sys-color-secondary-container: #334b4f;
  --md-sys-color-on-secondary-container: #cde7ec;
  --md-sys-color-tertiary: #bac6ea;
  --md-sys-color-on-tertiary: #24304d;
  --md-sys-color-tertiary-container: #3b4664;
  --md-sys-color-on-tertiary-container: #dae2ff;
  --md-sys-color-error: #ffb4ab;
  --md-sys-color-on-error: #690005;
  --md-sys-color-error-container: #93000a;
  --md-sys-color-on-error-container: #ffb4ab;
  --md-sys-color-background: #191c1d;
  --md-sys-color-on-background: #e1e3e3;
  --md-sys-color-surface: #191c1d;
  --md-sys-color-on-surface: #e1e3e3;
  --md-sys-color-surface-variant: #3f484a;
  --md-sys-color-on-surface-variant: #bfc8ca;
  --md-sys-color-outline: #899294;
  --md-sys-color-outline-variant: #3f484a;
  --md-sys-color-shadow: #000000;
  --md-sys-color-scrim: #000000;
  --md-sys-color-inverse-surface: #e1e3e3;
  --md-sys-color-inverse-on-surface: #2e3132;
  --md-sys-color-inverse-primary: #006874;
  --md-sys-color-surface-dim: #101415;
  --md-sys-color-surface-bright: #363a3a;
  --md-sys-color-surface-container-lowest: #0b0f0f;
  --md-sys-color-surface-container-low: #191c1d;
  --md-sys-color-surface-container: #1d2021;
  --md-sys-color-surface-container-high: #272b2b;
  --md-sys-color-surface-container-highest: #323536
}

@media (prefers-color-scheme: light) {
  :root {
    --md-sys-color-primary: #006874;
    --md-sys-color-on-primary: #ffffff;
    --md-sys-color-primary-container: #97f0ff;
    --md-sys-color-on-primary-container: #001f24;
    --md-sys-color-secondary: #4a6267;
    --md-sys-color-on-secondary: #ffffff;
    --md-sys-color-secondary-container: #cde7ec;
    --md-sys-color-on-secondary-container: #051f23;
    --md-sys-color-tertiary: #525e7d;
    --md-sys-color-on-tertiary: #ffffff;
    --md-sys-color-tertiary-container: #dae2ff;
    --md-sys-color-on-tertiary-container: #0e1b37;
    --md-sys-color-error: #ba1a1a;
    --md-sys-color-on-error: #ffffff;
    --md-sys-color-error-container: #ffdad6;
    --md-sys-color-on-error-container: #410002;
    --md-sys-color-background: #fafdfd;
    --md-sys-color-on-background: #191c1d;
    --md-sys-color-surface: #fafdfd;
    --md-sys-color-on-surface: #191c1d;
    --md-sys-color-surface-variant: #dbe4e6;
    --md-sys-color-on-surface-variant: #3f484a;
    --md-sys-color-outline: #6f797a;
    --md-sys-color-outline-variant: #bfc8ca;
    --md-sys-color-shadow: #000000;
    --md-sys-color-scrim: #000000;
    --md-sys-color-inverse-surface: #2e3132;
    --md-sys-color-inverse-on-surface: #eff1f1;
    --md-sys-color-inverse-primary: #4fd8eb;
    --md-sys-color-surface-dim: #d8dadb;
    --md-sys-color-surface-bright: #f8fafa;
    --md-sys-color-surface-container-lowest: #ffffff;
    --md-sys-color-surface-container-low: #f2f4f4;
    --md-sys-color-surface-container: #eceeef;
    --md-sys-color-surface-container-high: #e6e8e9;
    --md-sys-color-surface-container-highest: #e1e3e3
  }
}
:root[data-theme="light"] {
  --md-sys-color-primary: #006874;
  --md-sys-color-on-primary: #ffffff;
  --md-sys-color-primary-container: #97f0ff;
  --md-sys-color-on-primary-container: #001f24;
  --md-sys-color-secondary: #4a6267;
  --md-sys-color-on-secondary: #ffffff;
  --md-sys-color-secondary-container: #cde7ec;
  --md-sys-color-on-secondary-container: #051f23;
  --md-sys-color-tertiary: #525e7d;
  --md-sys-color-on-tertiary: #ffffff;
  --md-sys-color-tertiary-container: #dae2ff;
  --md-sys-color-on-tertiary-container: #0e1b37;
  --md-sys-color-error: #ba1a1a;
  --md-sys-color-on-error: #ffffff;
  --md-sys-color-error-container: #ffdad6;
  --md-sys-color-on-error-container: #410002;
  --md-sys-color-background: #fafdfd;
  --md-sys-color-on-background: #191c1d;
  --md-sys-color-surface: #fafdfd;
  --md-sys-color-on-surface: #191c1d;
  --md-sys-color-surface-variant: #dbe4e6;
  --md-sys-color-on-surface-variant: #3f484a;
  --md-sys-color-outline: #6f797a;
  --md-sys-color-outline-variant: #bfc8ca;
  --md-sys-color-shadow: #000000;
  --md-sys-color-scrim: #000000;
  --md-sys-color-inverse-surface: #2e3132;
  --md-sys-color-inverse-on-surface: #eff1f1;
  --md-sys-color-inverse-primary: #4fd8eb;
  --md-sys-color-surface-dim: #d8dadb;
  --md-sys-color-surface-bright: #f8fafa;
  --md-sys-color-surface-container-lowest: #ffffff;
  --md-sys-color-surface-container-low: #f2f4f4;
  --md-sys-color-surface-container: #eceeef;
  --md-sys-color-surface-container-high: #e6e8e9;
  --md-sys-color-surface-container-highest: #e1e3e3
}
</style><link rel="stylesheet" href="assets/material-style.css"/></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"><a href="https://markeasting.github.io/dependency-injection/">Docs</a><a href="https://github.com/markeasting/dependency-injection">GitHub</a></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">@markeasting/dependency-injection</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h2>@markeasting/dependency-injection</h2></div><div class="tsd-panel tsd-typography"><a id="md:minimal-dependency-injection-container" class="tsd-anchor"></a><h1><a href="#md:minimal-dependency-injection-container">Minimal dependency injection container</a></h1><p>Minimal Dependency Injection container, written in Typescript. </p>
<a id="md:features" class="tsd-anchor"></a><h2><a href="#md:features">Features</a></h2><ul>
<li>No additional npm package requirements.</li>
<li>No autowiring, you need to <a href="#md:registering-services">build and configure</a> your own application. </li>
<li><a href="#md:type-hinting-for-wiring">Typescript has your back</a> when you wire dependencies.</li>
<li>Supports basic <a href="#md:overriding--mocking-services">overriding / mocking</a> of services.</li>
<li>Optional <a href="#md:container-extension-bundles">extension bundle system</a>: easily create &#39;feature toggles&#39; for your application.</li>
</ul>
<a id="md:why" class="tsd-anchor"></a><h2><a href="#md:why">Why?</a></h2><p>To prevent spaghetti code (i.e. enforce <a href="https://en.m.wikipedia.org/wiki/SOLID">SOLID</a> 
/ reduce <a href="https://en.m.wikipedia.org/wiki/Coupling_(computer_programming)">tight coupling</a>), 
without inflating the codebase too much. Some Javascript DI solutions tend to use decorators (which are experimental) or <code>reflect-metadata</code> (extra package), or 
have other features that <a href="https://en.m.wikipedia.org/wiki/Preference">I didn&#39;t like</a>. </p>
<p>You can achieve the most <a href="https://en.m.wikipedia.org/wiki/Dependency_injection#Assembly">basic form of DI</a> by using some kind of service layer to 
construct classes and provide their dependencies.</p>
<p>This module relies on native Typescript / Javascript to enable (manual) DI. 
It gives full control to build your own application container and wire services 
as you desire. When keeping your services and bundles <a href="https://en.m.wikipedia.org/wiki/Single_responsibility_principle">small and managable</a>, your code / coupling will 
be better and easier to maintain. </p>
<p>For a concrete usecase, see the <a href="https://github.com/markeasting/dependency-injection/blob/master/test/example.spec.ts">basic example app</a>. </p>
<a id="md:installation" class="tsd-anchor"></a><h2><a href="#md:installation">Installation</a></h2><p>This package is not available on NPM (just yet). 
For now, you can clone this repository and <a href="https://docs.npmjs.com/cli/v10/commands/npm-linkk">link the local package</a> 
in your own project. </p>
<p><code>npm link @markeasting/dependency-injection</code></p>
<a id="md:development--building" class="tsd-anchor"></a><h2><a href="#md:development--building">Development / building</a></h2><p><code>npm run build</code> - run the Typescript compiler (<code>tsc</code>).</p>
<p><code>npm run watch</code> - runs <code>tsc</code> in watch mode.</p>
<a id="md:unit-testing" class="tsd-anchor"></a><h3><a href="#md:unit-testing">Unit testing</a></h3><p><code>npm test</code> - uses <a href="https://bun.sh/docs/cli/test">Bun</a> as test runner.</p>
<a id="md:usage-guide" class="tsd-anchor"></a><h1><a href="#md:usage-guide">Usage guide</a></h1><a id="md:create-a-container" class="tsd-anchor"></a><h2><a href="#md:create-a-container">Create a container</a></h2><pre><code class="language-ts"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">Container</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&quot;@markeasting/dependency-injection&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">container</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">Container</span><span class="hl-1">();</span>
</code><button>Copy</button></pre>
<p>Or import a globally available container instance directly:</p>
<pre><code class="language-ts"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">container</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&quot;@markeasting/dependency-injection&quot;</span><span class="hl-1">;</span>
</code><button>Copy</button></pre>
<a id="md:registering-services" class="tsd-anchor"></a><h2><a href="#md:registering-services">Registering services</a></h2><p>Simply register your class as a service by calling <code>register()</code>. </p>
<p>Services are &#39;shared&#39; by default - you will always receive the same instance 
when it is injected or queried by the container. See below for more lifetime 
options.</p>
<pre><code class="language-ts"><span class="hl-7">/* Service with zero dependencies  */</span><br/><span class="hl-4">class</span><span class="hl-1"> </span><span class="hl-8">Foo</span><span class="hl-1"> { </span><br/><span class="hl-1">    </span><span class="hl-6">getValue</span><span class="hl-1">() {</span><br/><span class="hl-1">        </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-9">42</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-7">/* Register the service. [] means that it has 0 dependencies. */</span><br/><span class="hl-2">container</span><span class="hl-1">.</span><span class="hl-6">register</span><span class="hl-1">(</span><span class="hl-2">Foo</span><span class="hl-1">, []);</span>
</code><button>Copy</button></pre>
<a id="md:shared-and-transient-services" class="tsd-anchor"></a><h4><a href="#md:shared-and-transient-services">Shared and transient services</a></h4><p>You can pass the object lifetime to the <code>register()</code> method as the third 
argument. By default, it will register a <em>shared</em> service.</p>
<p>Some shortcuts for setting the lifetime are <code>singleton()</code> and <code>transient()</code>: </p>
<pre><code class="language-ts"><span class="hl-2">container</span><span class="hl-1">.</span><span class="hl-6">singleton</span><span class="hl-1">(...);   </span><span class="hl-7">// Shared service: each instance is the same.</span><br/><span class="hl-2">container</span><span class="hl-1">.</span><span class="hl-6">transient</span><span class="hl-1">(...);   </span><span class="hl-7">// Transient service: each instance is unique. </span>
</code><button>Copy</button></pre>
<a id="md:defining-service-dependencies" class="tsd-anchor"></a><h4><a href="#md:defining-service-dependencies">Defining service dependencies</a></h4><p>In this example, <code>MyClass</code> is a service that depends upon an instance of <code>Foo</code>:</p>
<pre><code class="language-ts"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">Foo</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;./Foo&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">class</span><span class="hl-1"> </span><span class="hl-8">MyClass</span><span class="hl-1"> {</span><br/><br/><span class="hl-1">    </span><span class="hl-7">/* MyClass depends on an instance of `Foo` */</span><br/><span class="hl-1">    </span><span class="hl-4">constructor</span><span class="hl-1">(</span><span class="hl-4">public</span><span class="hl-1"> </span><span class="hl-2">foo</span><span class="hl-1">: </span><span class="hl-8">Foo</span><span class="hl-1">) {}</span><br/><br/><span class="hl-1">    </span><span class="hl-6">myMethod</span><span class="hl-1">() {</span><br/><span class="hl-1">        </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-2">foo</span><span class="hl-1">.</span><span class="hl-6">getValue</span><span class="hl-1">()); </span><span class="hl-7">// Will log &#39;42&#39;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-7">/** </span><br/><span class="hl-7"> * Register the services. </span><br/><span class="hl-7"> * 1) Register &#39;Foo&#39;</span><br/><span class="hl-7"> * 2) Wire `Foo` to be injected into MyClass</span><br/><span class="hl-7"> */</span><br/><span class="hl-2">container</span><span class="hl-1">.</span><span class="hl-6">register</span><span class="hl-1">(</span><span class="hl-2">Foo</span><span class="hl-1">, []); </span><br/><span class="hl-2">container</span><span class="hl-1">.</span><span class="hl-6">register</span><span class="hl-1">(</span><span class="hl-2">MyClass</span><span class="hl-1">, [</span><span class="hl-2">Foo</span><span class="hl-1">]); </span>
</code><button>Copy</button></pre>
<a id="md:type-hinting-for-wiring" class="tsd-anchor"></a><h4><a href="#md:type-hinting-for-wiring">Type hinting for wiring</a></h4><p>Typescript will yell at you when you pass the wrong dependencies. The container 
creatively uses Typescript&#39;s <a href="https://www.typescriptlang.org/docs/handbook/utility-types.html#constructorparameterstype">ConstructorParameters</a> utility type to provide type 
hinting. </p>
<pre><code class="language-ts"><span class="hl-2">container</span><span class="hl-1">.</span><span class="hl-6">register</span><span class="hl-1">(</span><span class="hl-2">MyClass</span><span class="hl-1">, [</span><span class="hl-2">Foo</span><span class="hl-1">]); </span><span class="hl-7">// Everything is OK. </span><br/><br/><span class="hl-2">container</span><span class="hl-1">.</span><span class="hl-6">register</span><span class="hl-1">(</span><span class="hl-2">MyClass</span><span class="hl-1">, [</span><span class="hl-2">Baz</span><span class="hl-1">, </span><span class="hl-9">123</span><span class="hl-1">]); </span><span class="hl-7">// Error! MyClass requires Foo.</span>
</code><button>Copy</button></pre>
<a id="md:passing-primitives-non-injectables" class="tsd-anchor"></a><h4><a href="#md:passing-primitives-non-injectables">Passing primitives (non-injectables)</a></h4><p>You may also pass things like objects or primitives (which aren&#39;t or cannot be 
registered services). These must be constructed when registering the class: </p>
<pre><code class="language-ts"><span class="hl-4">class</span><span class="hl-1"> </span><span class="hl-8">SomeConfig</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">myvar</span><span class="hl-1"> = </span><span class="hl-4">true</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-4">class</span><span class="hl-1"> </span><span class="hl-8">SomeClass</span><span class="hl-1"> {</span><br/><br/><span class="hl-1">    </span><span class="hl-7">/* SomeClass depends on primitives */</span><br/><span class="hl-1">    </span><span class="hl-4">constructor</span><span class="hl-1">(</span><br/><span class="hl-1">        </span><span class="hl-4">public</span><span class="hl-1"> </span><span class="hl-2">config</span><span class="hl-1">: </span><span class="hl-8">SomeConfig</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">public</span><span class="hl-1"> </span><span class="hl-2">mynumber</span><span class="hl-1">: </span><span class="hl-8">number</span><br/><span class="hl-1">    ) {}</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-7">/* Register the service and pass the dependencies as values. */</span><br/><span class="hl-2">container</span><span class="hl-1">.</span><span class="hl-6">register</span><span class="hl-1">(</span><span class="hl-2">SomeClass</span><span class="hl-1">, [</span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">SomeConfig</span><span class="hl-1">(), </span><span class="hl-9">1234</span><span class="hl-1">]); </span>
</code><button>Copy</button></pre>
<a id="md:getting-service-instances" class="tsd-anchor"></a><h2><a href="#md:getting-service-instances">Getting service instances</a></h2><p>You can request a service instance via <code>get()</code>. Only when this is called, the 
dependencies will be resolved and injected (lazy initialization).</p>
<p>Before using this, you must first compile the container by calling <code>build()</code>. 
This will initialize the container (i.e. apply service overrides and configure 
bundles):</p>
<pre><code class="language-ts"><span class="hl-2">container</span><span class="hl-1">.</span><span class="hl-6">build</span><span class="hl-1">(); </span>
</code><button>Copy</button></pre>
<p>Then you can <code>get()</code> an instance by passing the name of a class:</p>
<pre><code class="language-ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">instance</span><span class="hl-1"> = </span><span class="hl-2">container</span><span class="hl-1">.</span><span class="hl-6">get</span><span class="hl-1">(</span><span class="hl-2">MyClass</span><span class="hl-1">); </span><br/><br/><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-2">instance</span><span class="hl-1">.</span><span class="hl-2">foo</span><span class="hl-1">.</span><span class="hl-6">getValue</span><span class="hl-1">()); </span><span class="hl-7">// Returns &#39;42&#39; (see above)</span>
</code><button>Copy</button></pre>
<a id="md:overriding--mocking-services" class="tsd-anchor"></a><h2><a href="#md:overriding--mocking-services">Overriding / mocking services</a></h2><p>You can override the implementation of a service by using <code>override()</code>.</p>
<p>Note: Javascript does not support interfaces (i.e. you cannot pass a TS 
interface by value). Therefore, you should first <code>register()</code> a &#39;base class&#39; as 
a default implementation, after which you can override it using <code>override()</code>. </p>
<pre><code class="language-ts"><span class="hl-7">/* Since you cannot pass TS interfaces in the JS world, IFoo must be a `class`. */</span><br/><span class="hl-4">class</span><span class="hl-1"> </span><span class="hl-8">IFoo</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-6">someMethod</span><span class="hl-1">(): </span><span class="hl-8">void</span><span class="hl-1"> {}</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-7">/* First register the default implementation / &#39;base class&#39; for IFoo. */</span><br/><span class="hl-2">container</span><span class="hl-1">.</span><span class="hl-6">transient</span><span class="hl-1">(</span><span class="hl-2">IFoo</span><span class="hl-1">, []); </span><br/><br/><span class="hl-2">container</span><span class="hl-1">.</span><span class="hl-6">singleton</span><span class="hl-1">(</span><span class="hl-2">MyService</span><span class="hl-1">, [</span><span class="hl-2">IFoo</span><span class="hl-1">]); </span><span class="hl-7">// MyService depends on IFoo</span><br/><br/><span class="hl-2">container</span><span class="hl-1">.</span><span class="hl-6">transient</span><span class="hl-1">(</span><span class="hl-2">ConcreteFoo</span><span class="hl-1">, []);   </span><span class="hl-7">// Register an override service</span><br/><span class="hl-2">container</span><span class="hl-1">.</span><span class="hl-6">override</span><span class="hl-1">(</span><span class="hl-2">IFoo</span><span class="hl-1">, </span><span class="hl-2">ConcreteFoo</span><span class="hl-1">);  </span><span class="hl-7">// ConcreteFoo will be passed to MyService</span>
</code><button>Copy</button></pre>
<a id="md:container-extension-bundles" class="tsd-anchor"></a><h2><a href="#md:container-extension-bundles">Container extension bundles</a></h2><p>You can add your own extension bundles to the container. You may use this 
system to add &#39;feature toggles&#39; in your application. This is loosely based on 
the way Symfony handles bundles.</p>
<a id="md:define-an-extension-bundle" class="tsd-anchor"></a><h3><a href="#md:define-an-extension-bundle">Define an extension bundle</a></h3><pre><code class="language-ts"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">container</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&quot;@markeasting/dependency-injection&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-0">import</span><span class="hl-1"> </span><span class="hl-0">type</span><span class="hl-1"> { </span><span class="hl-2">BundleInterface</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@markeasting/dependency-injection&#39;</span><br/><br/><span class="hl-7">/* Define the bundle configuration class */</span><br/><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-4">class</span><span class="hl-1"> </span><span class="hl-8">MyBundleConfig</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">debug</span><span class="hl-1">: </span><span class="hl-8">boolean</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-2">myService</span><span class="hl-1">: </span><span class="hl-8">Partial</span><span class="hl-1">&lt;</span><span class="hl-8">MyServiceConfig</span><span class="hl-1">&gt;;</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-7">/* Create the bundle definition */</span><br/><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-4">class</span><span class="hl-1"> </span><span class="hl-8">MyBundle</span><span class="hl-1"> </span><span class="hl-4">implements</span><span class="hl-1"> </span><span class="hl-8">BundleInterface</span><span class="hl-1">&lt;</span><span class="hl-8">MyBundleConfig</span><span class="hl-1">&gt; {</span><br/><br/><span class="hl-1">    </span><span class="hl-4">constructor</span><span class="hl-1">(</span><br/><span class="hl-1">        </span><span class="hl-4">public</span><span class="hl-1"> </span><span class="hl-2">api</span><span class="hl-1">: </span><span class="hl-8">ApiManager</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">public</span><span class="hl-1"> </span><span class="hl-2">service</span><span class="hl-1">: </span><span class="hl-8">MyService</span><span class="hl-1">,</span><br/><span class="hl-1">    ) {}</span><br/><br/><span class="hl-1">    </span><span class="hl-7">/* The configure() method wires the services in this bundle */</span><br/><span class="hl-1">    </span><span class="hl-6">configure</span><span class="hl-1">(</span><span class="hl-2">overrides</span><span class="hl-1">: </span><span class="hl-8">Partial</span><span class="hl-1">&lt;</span><span class="hl-8">MyBundleConfig</span><span class="hl-1">&gt;): </span><span class="hl-8">void</span><span class="hl-1"> {</span><br/><br/><span class="hl-1">        </span><span class="hl-7">/* Apply configuration overrides */</span><br/><span class="hl-1">        </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">config</span><span class="hl-1"> = {...</span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">MyBundleConfig</span><span class="hl-1">(), ...</span><span class="hl-2">overrides</span><span class="hl-1">}; </span><br/><br/><span class="hl-1">        </span><span class="hl-7">/* Get some global parameters (could also be passed via config, depends on the parameter scope) */</span><br/><span class="hl-1">        </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">apiKey</span><span class="hl-1"> = </span><span class="hl-2">container</span><span class="hl-1">.</span><span class="hl-6">getParameter</span><span class="hl-1">(</span><span class="hl-3">&#39;apiKey&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-1">        </span><span class="hl-7">/* Wire the services in this bundle */</span><br/><span class="hl-1">        </span><span class="hl-2">container</span><span class="hl-1">.</span><span class="hl-6">transient</span><span class="hl-1">(</span><span class="hl-2">ApiManager</span><span class="hl-1">, [</span><span class="hl-2">apiKey</span><span class="hl-1">]);</span><br/><span class="hl-1">        </span><span class="hl-2">container</span><span class="hl-1">.</span><span class="hl-6">singleton</span><span class="hl-1">(</span><span class="hl-2">MyService</span><span class="hl-1">, [</span><span class="hl-2">ApiManager</span><span class="hl-1">, </span><span class="hl-2">config</span><span class="hl-1">.</span><span class="hl-2">myService</span><span class="hl-1">]);</span><br/><br/><span class="hl-1">        </span><span class="hl-7">/* Then register the bundle itself */</span><br/><span class="hl-1">        </span><span class="hl-2">container</span><span class="hl-1">.</span><span class="hl-6">register</span><span class="hl-1">(</span><span class="hl-2">MyBundle</span><span class="hl-1">, [</span><span class="hl-2">Timer</span><span class="hl-1">, </span><span class="hl-2">MyService</span><span class="hl-1">]);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<a id="md:register-an-extension-bundle" class="tsd-anchor"></a><h3><a href="#md:register-an-extension-bundle">Register an extension bundle</a></h3><p>You may use the globally available <code>container</code> instance, 
since this has extensions enabled by default. </p>
<pre><code class="language-ts"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">container</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&quot;@markeasting/dependency-injection&quot;</span><span class="hl-1">;</span>
</code><button>Copy</button></pre>
<p>Or create one explicitly: </p>
<pre><code class="language-ts"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">ExtendableContainer</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&quot;@markeasting/dependency-injection&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">container</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">ExtendableContainer</span><span class="hl-1">();</span>
</code><button>Copy</button></pre>
<p>Then load / enable your extension bundle. Optionally, you can pass configuration. </p>
<pre><code class="language-ts"><span class="hl-2">container</span><span class="hl-1">.</span><span class="hl-6">addExtension</span><span class="hl-1">(</span><span class="hl-2">MyBundle</span><span class="hl-1">, {</span><br/><span class="hl-1">    </span><span class="hl-7">// TS will type-hint this config as `MyBundleConfig`</span><br/><span class="hl-1">    </span><span class="hl-2">debug:</span><span class="hl-1"> </span><span class="hl-4">true</span><span class="hl-1"> </span><br/><span class="hl-1">});</span>
</code><button>Copy</button></pre>
<a id="md:get-an-extension" class="tsd-anchor"></a><h3><a href="#md:get-an-extension">Get an extension</a></h3><pre><code class="language-ts"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">MyBundle</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&quot;.&quot;</span><br/><br/><span class="hl-7">/* You must call `build` first. */</span><br/><span class="hl-2">container</span><span class="hl-1">.</span><span class="hl-6">build</span><span class="hl-1">(); </span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">ext</span><span class="hl-1"> = </span><span class="hl-2">container</span><span class="hl-1">.</span><span class="hl-6">getExtension</span><span class="hl-1">(</span><span class="hl-2">MyBundle</span><span class="hl-1">); </span><br/><br/><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-2">ext</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">instance1</span><span class="hl-1"> = </span><span class="hl-2">ext</span><span class="hl-1">.</span><span class="hl-2">api</span><span class="hl-1">;      </span><span class="hl-7">/* instanceof &#39;ApiManager&#39; */</span><br/><span class="hl-1">    </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">instance2</span><span class="hl-1"> = </span><span class="hl-2">ext</span><span class="hl-1">.</span><span class="hl-2">service</span><span class="hl-1">;  </span><span class="hl-7">/* instanceof &#39;MyService&#39; */</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<a id="md:tip-assist-tree-shaking" class="tsd-anchor"></a><h4><a href="#md:tip-assist-tree-shaking">Tip: assist tree-shaking</a></h4><p>In the example above, <code>MyBundle</code> is always imported. So even if the extension 
is never required / used in your code, it&#39;s still imported, inflating code size. </p>
<p>To assist dead code removal / tree-shaking, you may use <code>import type</code> and pass 
the (stringified) name of the class to <code>getExtension()</code>. The type argument will 
ensure correct type hinting. </p>
<p>This way, you can cleanly selectively include or exclude (optional) bundles in 
your codebase. </p>
<pre><code class="language-ts"><span class="hl-7">/* Note the &#39;import type&#39; here. These will be stripped from your build. */</span><br/><span class="hl-0">import</span><span class="hl-1"> </span><span class="hl-0">type</span><span class="hl-1"> { </span><span class="hl-2">MyBundle</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&quot;.&quot;</span><span class="hl-1"> </span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">ext</span><span class="hl-1"> = </span><span class="hl-2">container</span><span class="hl-1">.</span><span class="hl-6">getExtension</span><span class="hl-1">&lt;</span><span class="hl-8">MyBundle</span><span class="hl-1">&gt;(</span><span class="hl-3">&#39;MyBundle&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-7">// if (ext) { ... }</span>
</code><button>Copy</button></pre>
<a id="md:putting-it-all-together" class="tsd-anchor"></a><h1><a href="#md:putting-it-all-together">Putting it all together</a></h1><p>You can check out the basic application example <a href="https://github.com/markeasting/dependency-injection/blob/master/test/example.spec.ts">here</a>. </p>
<pre><code class="language-ts"><span class="hl-7">/* Logger.ts */</span><br/><br/><span class="hl-4">enum</span><span class="hl-1"> </span><span class="hl-8">LogLevel</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">WARNING</span><span class="hl-1"> = </span><span class="hl-3">&#39;WARNING&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">DEBUG</span><span class="hl-1"> = </span><span class="hl-3">&#39;DEBUG&#39;</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-4">class</span><span class="hl-1"> </span><span class="hl-8">LoggerService</span><span class="hl-1"> {</span><br/><br/><span class="hl-1">    </span><span class="hl-4">constructor</span><span class="hl-1">(</span><span class="hl-4">public</span><span class="hl-1"> </span><span class="hl-2">logLevel</span><span class="hl-1">: </span><span class="hl-8">LogLevel</span><span class="hl-1">) {}</span><br/><br/><span class="hl-1">    </span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-2">string</span><span class="hl-1">: </span><span class="hl-8">string</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-3">`</span><span class="hl-4">${</span><span class="hl-4">this</span><span class="hl-10">.</span><span class="hl-2">logLevel</span><span class="hl-4">}</span><span class="hl-3"> - </span><span class="hl-4">${</span><span class="hl-2">string</span><span class="hl-4">}</span><span class="hl-3">`</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-7">/* Database.ts */</span><br/><br/><span class="hl-4">class</span><span class="hl-1"> </span><span class="hl-8">Database</span><span class="hl-1"> {</span><br/><br/><span class="hl-1">    </span><span class="hl-4">constructor</span><span class="hl-1">(</span><br/><span class="hl-1">        </span><span class="hl-4">public</span><span class="hl-1"> </span><span class="hl-2">dbUri</span><span class="hl-1">: </span><span class="hl-8">string</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">public</span><span class="hl-1"> </span><span class="hl-2">logger</span><span class="hl-1">: </span><span class="hl-8">LoggerService</span><br/><span class="hl-1">    ) {}</span><br/><br/><span class="hl-1">    </span><span class="hl-6">connect</span><span class="hl-1">() {</span><br/><span class="hl-1">        </span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-2">logger</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-3">&#39;Success!&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-7">/* DbBundle.ts */</span><br/><span class="hl-0">import</span><span class="hl-1"> </span><span class="hl-0">type</span><span class="hl-1"> { </span><span class="hl-2">BundleInterface</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;../src&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">class</span><span class="hl-1"> </span><span class="hl-8">MyBundleConfig</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">dbUri</span><span class="hl-1">: </span><span class="hl-8">string</span><span class="hl-1">;</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-4">class</span><span class="hl-1"> </span><span class="hl-8">DbBundle</span><span class="hl-1"> </span><span class="hl-4">implements</span><span class="hl-1"> </span><span class="hl-8">BundleInterface</span><span class="hl-1">&lt;</span><span class="hl-8">MyBundleConfig</span><span class="hl-1">&gt; {</span><br/><br/><span class="hl-1">    </span><span class="hl-4">constructor</span><span class="hl-1">(</span><span class="hl-4">public</span><span class="hl-1"> </span><span class="hl-2">database</span><span class="hl-1">: </span><span class="hl-8">Database</span><span class="hl-1">) {}</span><br/><br/><span class="hl-1">    </span><span class="hl-6">configure</span><span class="hl-1">(</span><span class="hl-2">overrides</span><span class="hl-1">: </span><span class="hl-8">Partial</span><span class="hl-1">&lt;</span><span class="hl-8">MyBundleConfig</span><span class="hl-1">&gt;): </span><span class="hl-8">void</span><span class="hl-1"> {</span><br/><br/><span class="hl-1">        </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">config</span><span class="hl-1"> = {...</span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">MyBundleConfig</span><span class="hl-1">(), ...</span><span class="hl-2">overrides</span><span class="hl-1">};</span><br/><br/><span class="hl-1">        </span><span class="hl-7">// Get some container parameter (could also be passed via config)</span><br/><span class="hl-1">        </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">logLevel</span><span class="hl-1"> = </span><span class="hl-2">container</span><span class="hl-1">.</span><span class="hl-6">getParameter</span><span class="hl-1">(</span><span class="hl-3">&#39;logger.loglevel&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><br/><span class="hl-1">        </span><span class="hl-7">// Wire the services in this bundle </span><br/><span class="hl-1">        </span><span class="hl-2">container</span><span class="hl-1">.</span><span class="hl-6">transient</span><span class="hl-1">(</span><span class="hl-2">LoggerService</span><span class="hl-1">, [</span><span class="hl-2">logLevel</span><span class="hl-1">]);</span><br/><span class="hl-1">        </span><span class="hl-2">container</span><span class="hl-1">.</span><span class="hl-6">singleton</span><span class="hl-1">(</span><span class="hl-2">Database</span><span class="hl-1">, [</span><span class="hl-2">config</span><span class="hl-1">.</span><span class="hl-2">dbUri</span><span class="hl-1">, </span><span class="hl-2">LoggerService</span><span class="hl-1">]);</span><br/><br/><span class="hl-1">        </span><span class="hl-7">// Register &#39;self&#39;</span><br/><span class="hl-1">        </span><span class="hl-2">container</span><span class="hl-1">.</span><span class="hl-6">register</span><span class="hl-1">(</span><span class="hl-2">DbBundle</span><span class="hl-1">, [</span><span class="hl-2">Database</span><span class="hl-1">]);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-7">/* BaseApp.ts */</span><br/><span class="hl-4">class</span><span class="hl-1"> </span><span class="hl-8">BaseApp</span><span class="hl-1"> {</span><br/><br/><span class="hl-1">    </span><span class="hl-2">database</span><span class="hl-1">?: </span><span class="hl-8">Database</span><span class="hl-1">;</span><br/><br/><span class="hl-1">    </span><span class="hl-4">constructor</span><span class="hl-1">(</span><br/><span class="hl-1">        </span><span class="hl-7">/**</span><br/><span class="hl-7">         * Empty constructor - use the container as a service locator here.</span><br/><span class="hl-7">         * </span><br/><span class="hl-7">         * This allows easier sub-classing / extending of the App class </span><br/><span class="hl-7">         * e.g. only a super() call, without dependencies.</span><br/><span class="hl-7">         */</span><br/><span class="hl-1">    ) {</span><br/><span class="hl-1">        </span><span class="hl-7">/** </span><br/><span class="hl-7">         * Example of a feature toggle: </span><br/><span class="hl-7">         * we can only use the Database feature from MyBundle if added it. </span><br/><span class="hl-7">         */</span><br/><span class="hl-1">        </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">bundle</span><span class="hl-1"> = </span><span class="hl-2">container</span><span class="hl-1">.</span><span class="hl-6">getExtension</span><span class="hl-1">&lt;</span><span class="hl-8">DbBundle</span><span class="hl-1">&gt;(</span><span class="hl-3">&#39;DbBundle&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-1">        </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-2">bundle</span><span class="hl-1">) {</span><br/><span class="hl-1">            </span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-2">database</span><span class="hl-1"> = </span><span class="hl-2">bundle</span><span class="hl-1">.</span><span class="hl-2">database</span><span class="hl-1">; </span><br/><span class="hl-1">            </span><span class="hl-7">// Or alternatively, `this.database = container.get(Database)`</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">    }</span><br/><br/><span class="hl-1">    </span><span class="hl-6">init</span><span class="hl-1">() {</span><br/><span class="hl-1">        </span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-2">database</span><span class="hl-1">?.</span><span class="hl-6">connect</span><span class="hl-1">();</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-7">/** </span><br/><span class="hl-7"> * Your application entrypoint - main.ts / some bootstrap function.</span><br/><span class="hl-7"> */</span><br/><span class="hl-4">function</span><span class="hl-1"> </span><span class="hl-6">application_bootstrap</span><span class="hl-1">() {</span><br/><span class="hl-1">    </span><br/><span class="hl-1">    </span><span class="hl-2">container</span><span class="hl-1">.</span><span class="hl-6">setParameter</span><span class="hl-1">(</span><span class="hl-3">&#39;logger.loglevel&#39;</span><span class="hl-1">, </span><span class="hl-2">LogLevel</span><span class="hl-1">.</span><span class="hl-5">DEBUG</span><span class="hl-1">);</span><br/><br/><span class="hl-1">    </span><span class="hl-2">container</span><span class="hl-1">.</span><span class="hl-6">addExtension</span><span class="hl-1">(</span><span class="hl-2">DbBundle</span><span class="hl-1">, {</span><br/><span class="hl-1">        </span><span class="hl-2">dbUri:</span><span class="hl-1"> </span><span class="hl-3">&#39;mongodb://...&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    });</span><br/><br/><span class="hl-1">    </span><span class="hl-2">container</span><span class="hl-1">.</span><span class="hl-6">singleton</span><span class="hl-1">(</span><span class="hl-2">BaseApp</span><span class="hl-1">, []);</span><br/><span class="hl-1">    </span><span class="hl-2">container</span><span class="hl-1">.</span><span class="hl-6">build</span><span class="hl-1">();</span><br/><br/><span class="hl-1">    </span><span class="hl-7">/* Thats it! */</span><br/><span class="hl-1">    </span><br/><span class="hl-1">    </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">app</span><span class="hl-1"> = </span><span class="hl-2">container</span><span class="hl-1">.</span><span class="hl-6">get</span><span class="hl-1">(</span><span class="hl-2">BaseApp</span><span class="hl-1">); </span><span class="hl-7">// The app instance is now ready. </span><br/><br/><span class="hl-1">    </span><span class="hl-2">app</span><span class="hl-1">.</span><span class="hl-6">init</span><span class="hl-1">(); </span><span class="hl-7">// Database will run connect() and log &#39;Success&#39; </span><br/><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-index-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><h4 class="uppercase">Member Visibility</h4><form><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-private" name="private"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Private</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></form></div><div class="tsd-theme-toggle"><h4 class="uppercase">Theme</h4><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-index-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#md:minimal-dependency-injection-container"><span>Minimal dependency injection container</span></a><ul><li><a href="#md:features"><span>Features</span></a></li><li><a href="#md:why"><span>Why?</span></a></li><li><a href="#md:installation"><span>Installation</span></a></li><li><a href="#md:development--building"><span>Development / building</span></a></li><li><ul><li><a href="#md:unit-testing"><span>Unit testing</span></a></li></ul></li></ul><a href="#md:usage-guide"><span>Usage guide</span></a><ul><li><a href="#md:create-a-container"><span>Create a container</span></a></li><li><a href="#md:registering-services"><span>Registering services</span></a></li><li><ul><li><ul><li><a href="#md:shared-and-transient-services"><span>Shared and transient services</span></a></li><li><a href="#md:defining-service-dependencies"><span>Defining service dependencies</span></a></li><li><a href="#md:type-hinting-for-wiring"><span>Type hinting for wiring</span></a></li><li><a href="#md:passing-primitives-non-injectables"><span>Passing primitives (non-<wbr/>injectables)</span></a></li></ul></li></ul></li><li><a href="#md:getting-service-instances"><span>Getting service instances</span></a></li><li><a href="#md:overriding--mocking-services"><span>Overriding / mocking services</span></a></li><li><a href="#md:container-extension-bundles"><span>Container extension bundles</span></a></li><li><ul><li><a href="#md:define-an-extension-bundle"><span>Define an extension bundle</span></a></li><li><a href="#md:register-an-extension-bundle"><span>Register an extension bundle</span></a></li><li><a href="#md:get-an-extension"><span>Get an extension</span></a></li><li><ul><li><a href="#md:tip-assist-tree-shaking"><span>Tip: assist tree-<wbr/>shaking</span></a></li></ul></li></ul></li></ul><a href="#md:putting-it-all-together"><span>Putting it all together</span></a></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html" class="current"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-1"></use></svg><span>@markeasting/dependency-injection</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base="."><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div><script>
          try {
            const generateLinkElement = document.querySelector(".tsd-generator a");
            const link = document.createElement("a");
            Object.assign(link, {
              href: "https://github.com/dmnsgn/typedoc-material-theme",
              target: "_blank",
              rel: "noreferrer",
              innerText: "typedoc-material-theme."
            });
            generateLinkElement.insertAdjacentElement("afterend", link);
            generateLinkElement.insertAdjacentText("afterend", " with ");
          } catch (error) {

          }
        </script></body></html>